<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title> Acciones</mat-panel-title>
  </mat-expansion-panel-header>

  <div class="flex flex-row justify-center content-center">
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Id de Analiticos</mat-label>
      <input matInput [(ngModel)]="componentEntity().properties.idAnalytics">
    </mat-form-field>
  </div>
  <div class="flex flex-row justify-center content-center">
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Detalle</mat-label>
      <input matInput [(ngModel)]="componentEntity().properties.actionAnalytics">
    </mat-form-field>
  </div>
  @if (componentEntity().type === TypeComponent.BUTTON
  || componentEntity().type === TypeComponent.IMAGE_BUTTON || componentEntity().type === TypeComponent.IMAGE) {
    <section>
      <div class="flex flex-row justify-center content-center">
        <mat-checkbox #url [checked]="componentEntity().actions.openWebView !== ''"
                      [disabled]="section.checked || call.checked"
        >
        </mat-checkbox>
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Abrir url</mat-label>
          <input type="url"
                 #inputUrl matInput [disabled]="!url.checked"
                 [(ngModel)]="componentEntity().actions.openWebView"
                 (keyup)="
                 componentEntity().actions.openSections = '';
                 componentEntity().actions.call = ''">
        </mat-form-field>
      </div>

      <div class="flex flex-row justify-center content-center">
        <mat-checkbox #section
                      [checked]="componentEntity().actions.openSections !== ''"
                      [disabled]="url.checked || call.checked"
        >
        </mat-checkbox>
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Selecciona secci√≥n</mat-label>
          <mat-select [(ngModel)]="componentEntity().actions.openSections" [disabled]=!section.checked>
            @for (section of sections() ?? []; track section.id) {
              <mat-option [value]="section.id">{{ section.name }}
              </mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>

      <div class="flex flex-row justify-center content-center">
        <mat-checkbox #call [checked]="componentEntity().actions.call !== ''"
                      [disabled]="section.checked || url.checked"

        >
        </mat-checkbox>
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>LLamar a</mat-label>
          <input type="text" mask="00-00-00-00-00" #inputCall matInput [disabled]="!call.checked"
                 [(ngModel)]="componentEntity().actions.call"
                 (keyup)="
                 componentEntity().actions.openSections = '';
                 componentEntity().actions.openWebView = ''">
        </mat-form-field>
      </div>
    </section>

  }

  <div class="flex flex-col justify-center content-center">
    <mat-divider></mat-divider>
    <span>Horario</span>
    @for (itemTimeScheduled of componentEntity().actions.showBySchedule; track itemTimeScheduled) {
      <p>
        {{ itemTimeScheduled.show ? "Mostrar" : "No Mostrar" }}
        De {{ getDayForNumber(itemTimeScheduled.dayStart) }} a {{ getDayForNumber(itemTimeScheduled.dayEnd) }}
        , {{ itemTimeScheduled.hourStart }} a las {{ itemTimeScheduled.hourEnd }}
      </p>
    }
    <button mat-button (click)="openDialogDate()"> Agregar</button>

  </div>

</mat-expansion-panel>